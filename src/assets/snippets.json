[
    {
        "id": 0,
        "title": "Example 1",
        "description": "Number of projects per sector in Nepal",
        "snippet": {
            "Power BI": "Code for Power BI",
            "Tableau": "Code for Tableau",
            "JavaScript": "import React, { useEffect, useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport \"./Chart.scss\";\n\ninterface Project {\n\tid: number;\n\tname: string;\n\tprimary_sector_display: string;\n}\n\ninterface Dataset {\n\tlabel: string;\n\tdata: number[];\n\tbackgroundColor: string[];\n\tborderColor: string[];\n\tborderWidth: number;\n}\n\ninterface Data {\n\tlabels: string[];\n\tdatasets: Dataset[];\n}\n\nexport const Chart: React.FC = () => {\n\tconst [projects, setProjects] = useState([]);\n\tconst [data, setData] = useState({});\n\n\tconst backgroundColors = [\n\t\t\"rgba(255, 99, 132, 0.2)\",\n\t\t\"rgba(54, 162, 235, 0.2)\",\n\t\t\"rgba(255, 206, 86, 0.2)\",\n\t\t\"rgba(75, 192, 192, 0.2)\",\n\t\t\"rgba(153, 102, 255, 0.2)\",\n\t\t\"rgba(255, 159, 64, 0.2)\",\n\t];\n\n\tconst borderColors = [\n\t\t\"rgba(255, 99, 132, 1)\",\n\t\t\"rgba(54, 162, 235, 1)\",\n\t\t\"rgba(255, 206, 86, 1)\",\n\t\t\"rgba(75, 192, 192, 1)\",\n\t\t\"rgba(153, 102, 255, 1)\",\n\t\t\"rgba(255, 159, 64, 1)\",\n\t];\n\n\tconst options = {\n\t\tscales: {\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t};\n\n\tconst fetchProjects = () => {\n\t\tfetch(\"https://goadmin.ifrc.org/api/v2/project/?country=NPL\")\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tsetProjects(data.results);\n\t\t\t\tsetData(getChartDataFromProjects(projects));\n\t\t\t});\n\t};\n\n\tuseEffect(fetchProjects, [projects.length]);\n\n\tconst getChartDataFromProjects = (projects: Project[]) => {\n\t\tconst data: Data = {\n\t\t\tlabels: [],\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"# of Projects\",\n\t\t\t\t\tdata: [],\n\t\t\t\t\tbackgroundColor: [],\n\t\t\t\t\tborderColor: [],\n\t\t\t\t\tborderWidth: 1,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\n\t\tprojects.forEach(project => {\n\t\t\tconst dataIndex = data.labels.indexOf(\n\t\t\t\tproject.primary_sector_display\n\t\t\t);\n\n\t\t\tif (dataIndex >= 0) {\n\t\t\t\tdata.datasets[0].data[dataIndex] += 1;\n\t\t\t} else {\n\t\t\t\tdata.labels.push(project.primary_sector_display);\n\t\t\t\tdata.datasets[0].data.push(1);\n\t\t\t\tdata.datasets[0].backgroundColor = backgroundColors.slice(\n\t\t\t\t\t0,\n\t\t\t\t\tdata.datasets[0].data.length\n\t\t\t\t);\n\t\t\t\tdata.datasets[0].borderColor = borderColors.slice(\n\t\t\t\t\t0,\n\t\t\t\t\tdata.datasets[0].data.length\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\treturn data;\n\t};\n\n\treturn (\n\t\t<div className=\"chart-container\">\n\t\t\t<Bar data={data} options={options} />\n\t\t</div>\n\t);\n};\n\n",
            "Python": "import matplotlib.pyplot as plt\nimport requests\nfrom collections import Counter\nimport numpy as np\n\n\n\ndef fetchProjects():\n\treturn requests.get(\"https://goadmin.ifrc.org/api/v2/project/?country=NPL\").json()['results']\n\n\n\ndef getDataFromProjects(projects):\n\tcounter = Counter()\n\tfor project in projects:\n\t\tcounter[project['primary_sector_display']] += 1\n\treturn counter\n\n\n\ndef generateChart(data):\n\tlabels, values = zip(*data.items())\n\n\n\tindexes = np.arange(len(labels))\n\n\n\tfig, ax = plt.subplots()\n\n\n\tplt.bar(indexes, values)\n\tplt.xticks(indexes * 1.0, labels)\n\n\n\tplt.show()\n\n\n\nif __name__ == \"__main__\":\n\tprojects = fetchProjects()\n\tdata = getDataFromProjects(projects)\n\tgenerateChart(data)\n\n"
        }
    }
]
